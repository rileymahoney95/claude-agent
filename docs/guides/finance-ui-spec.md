# Finance UI Specification

**Status:** Phase 0 (Planning)
**Created:** 2026-01-14
**Last Updated:** 2026-01-14
**Goal:** Build a functional web UI for the finance CLI that provides visual portfolio management, goal tracking, and financial recommendations.

---

## Overview

### Core Purpose

Transform the CLI-based finance tool into a visual dashboard for periodic (weekly/monthly) portfolio review, with full read/write capability for holdings, profile, and statement management.

### Design Principles

1. **CLI parity** - Every CLI feature accessible in UI, same data sources
2. **Point-in-time** - Show snapshot data, not real-time streaming
3. **Glanceable** - Key metrics visible immediately on dashboard
4. **Actionable** - Write operations (update holdings, edit profile) are frictionless
5. **Local-first** - Runs on localhost, no auth, desktop-app ready

### Target Users

- Single user (Riley)
- Periodic check-ins (weekly/monthly)
- Wants visual allocation charts and goal progress
- Needs quick updates to holdings without CLI commands

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND                                   â”‚
â”‚                         Next.js 16                                   â”‚
â”‚                        (App Router)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Dashboard  â”‚ â”‚ Holdings   â”‚ â”‚ Profile    â”‚ â”‚ Advisor            â”‚â”‚
â”‚  â”‚ /          â”‚ â”‚ /holdings  â”‚ â”‚ /profile   â”‚ â”‚ /advisor           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚        â”‚              â”‚              â”‚                  â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                              â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚   API Client      â”‚                            â”‚
â”‚                    â”‚   (TanStack Query)â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ HTTP (localhost:8000)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚   FastAPI         â”‚                            â”‚
â”‚                    â”‚   /api/v1/*       â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                              â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    EXISTING CLI MODULES                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚aggregator  â”‚ â”‚ analyzer   â”‚ â”‚ advisor    â”‚ â”‚ holdings    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚.py         â”‚ â”‚ .py        â”‚ â”‚ .py        â”‚ â”‚ .py         â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚   DATA LAYER      â”‚                            â”‚
â”‚                    â”‚  JSON Files       â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                              â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  .config/holdings.json    .config/finance-profile.json        â”‚  â”‚
â”‚  â”‚  .data/finance/snapshots/ .data/finance/statements/           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           BACKEND                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tech Stack

| Layer                | Technology            | Version | Rationale                                |
| -------------------- | --------------------- | ------- | ---------------------------------------- |
| **Runtime**          | Node.js               | 22 LTS  | Next.js requirement                      |
| **Framework**        | Next.js               | 16      | Latest with App Router, React 19         |
| **UI Components**    | shadcn/ui             | Latest  | Tailwind-based, copy-paste, customizable |
| **Icons**            | Lucide React          | Latest  | Consistent icon set, tree-shakeable      |
| **Charts**           | Recharts              | Latest  | React-native, good donut/pie support     |
| **Data Fetching**    | TanStack Query        | v5      | Caching, refetching, loading states      |
| **Forms**            | React Hook Form + Zod | Latest  | Type-safe form validation                |
| **Styling**          | Tailwind CSS          | v4      | Utility-first, works with shadcn         |
| **Backend**          | FastAPI               | Latest  | Python-native, async, auto OpenAPI docs  |
| **HTTP Client**      | httpx                 | Latest  | Async Python HTTP client                 |
| **Process Manager**  | concurrently          | Latest  | Single `npm run dev` for both servers    |
| **Desktop (future)** | Tauri                 | v2      | Rust-based, wraps web app                |

---

## File Structure

```
finance/
â”œâ”€â”€ cli/                    # Existing (unchanged)
â”‚   â”œâ”€â”€ aggregator.py
â”‚   â”œâ”€â”€ analyzer.py
â”‚   â”œâ”€â”€ advisor.py
â”‚   â”œâ”€â”€ holdings.py
â”‚   â”œâ”€â”€ profile.py
â”‚   â”œâ”€â”€ snapshots.py
â”‚   â”œâ”€â”€ commands.py
â”‚   â”œâ”€â”€ config.py
â”‚   â””â”€â”€ finance.py
â”‚
â”œâ”€â”€ mcp/                    # Existing (unchanged)
â”‚   â””â”€â”€ server.py
â”‚
â”œâ”€â”€ api/                    # NEW: FastAPI backend
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py             # FastAPI app, CORS, lifespan
â”‚   â”œâ”€â”€ dependencies.py     # Shared dependencies
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ portfolio.py    # GET /portfolio
â”‚   â”‚   â”œâ”€â”€ holdings.py     # GET/PUT /holdings, PUT /holdings/{category}/{key}
â”‚   â”‚   â”œâ”€â”€ profile.py      # GET/PUT /profile
â”‚   â”‚   â”œâ”€â”€ advice.py       # GET /advice?focus=all
â”‚   â”‚   â””â”€â”€ statements.py   # GET /history, POST /statements/pull
â”‚   â””â”€â”€ requirements.txt    # fastapi, uvicorn, httpx
â”‚
â”œâ”€â”€ web/                    # NEW: Next.js frontend
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ next.config.ts
â”‚   â”œâ”€â”€ tailwind.config.ts
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ components.json     # shadcn config
â”‚   â”‚
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # Root layout with nav
â”‚   â”‚   â”œâ”€â”€ page.tsx        # Dashboard (/)
â”‚   â”‚   â”œâ”€â”€ holdings/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # Holdings manager
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # Profile editor
â”‚   â”‚   â”œâ”€â”€ advisor/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # Full recommendations
â”‚   â”‚   â””â”€â”€ statements/
â”‚   â”‚       â””â”€â”€ page.tsx    # Statement history & import
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/             # shadcn components
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ nav.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio-summary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ allocation-chart.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ goal-card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ recommendation-card.tsx
â”‚   â”‚   â”œâ”€â”€ holdings/
â”‚   â”‚   â”‚   â”œâ”€â”€ crypto-table.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ bank-table.tsx
â”‚   â”‚   â”‚   â””â”€â”€ holding-edit-dialog.tsx
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â”œâ”€â”€ cash-flow-form.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ goals-form.tsx
â”‚   â”‚   â”‚   â””â”€â”€ tax-form.tsx
â”‚   â”‚   â””â”€â”€ advisor/
â”‚   â”‚       â”œâ”€â”€ recommendation-list.tsx
â”‚   â”‚       â”œâ”€â”€ priority-filter.tsx
â”‚   â”‚       â””â”€â”€ what-if-calculator.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api.ts          # API client functions
â”‚   â”‚   â”œâ”€â”€ types.ts        # TypeScript interfaces
â”‚   â”‚   â”œâ”€â”€ utils.ts        # Helpers (cn, formatCurrency, etc.)
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â”œâ”€â”€ use-portfolio.ts
â”‚   â”‚       â”œâ”€â”€ use-holdings.ts
â”‚   â”‚       â”œâ”€â”€ use-profile.ts
â”‚   â”‚       â””â”€â”€ use-advice.ts
â”‚   â”‚
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ favicon.ico
â”‚
â”œâ”€â”€ templates/              # Existing (unchanged)
â”œâ”€â”€ finance.sh              # Existing (unchanged)
â”œâ”€â”€ requirements.txt        # Existing (unchanged)
â””â”€â”€ venv/                   # Existing (unchanged)
```

---

## API Endpoints

All endpoints prefixed with `/api/v1`.

### Portfolio

| Method | Endpoint                    | Description             | CLI Equivalent                         |
| ------ | --------------------------- | ----------------------- | -------------------------------------- |
| GET    | `/portfolio`                | Unified portfolio view  | `finance portfolio --json`             |
| GET    | `/portfolio?no_prices=true` | Skip live crypto prices | `finance portfolio --no-prices --json` |

**Response:**

```json
{
  "success": true,
  "as_of": "2026-01-14",
  "total_value": 127432.50,
  "by_category": {
    "retirement": { "value": 52340.00, "pct": 41.1, "assets": ["Roth IRA", "HSA"] },
    "crypto": { "value": 35680.00, "pct": 28.0, "assets": ["BTC", "ETH"] },
    "cash": { "value": 22912.50, "pct": 18.0, "assets": ["HYSA", "Checking"] },
    "taxable_equities": { "value": 16500.00, "pct": 12.9, "assets": ["Brokerage"] }
  },
  "by_asset": [...],
  "data_freshness": {
    "sofi_snapshots": "2026-01-10",
    "holdings": "2026-01-14",
    "crypto_prices": "live"
  },
  "warnings": []
}
```

### Holdings

| Method | Endpoint                     | Description              | CLI Equivalent                        |
| ------ | ---------------------------- | ------------------------ | ------------------------------------- |
| GET    | `/holdings`                  | All holdings with prices | `finance holdings --json`             |
| PUT    | `/holdings/{category}/{key}` | Update single holding    | `finance holdings set {path} {value}` |
| GET    | `/holdings/freshness`        | Check if stale           | `finance holdings check --json`       |

**PUT Body:**

```json
{
  "value": 0.5,
  "notes": "Cold storage"
}
```

### Profile

| Method | Endpoint             | Description           | CLI Equivalent           |
| ------ | -------------------- | --------------------- | ------------------------ |
| GET    | `/profile`           | Full profile          | `finance profile --json` |
| PUT    | `/profile`           | Update entire profile | (interactive edit)       |
| PATCH  | `/profile/{section}` | Update section only   | (partial edit)           |

**PATCH Body (example for cash_flow):**

```json
{
  "gross_income": 10790,
  "shared_expenses": 5000,
  "crypto_contributions": 2166,
  "roth_contributions": 583,
  "hsa_contributions": 360,
  "discretionary": 2000
}
```

### Advice

| Method | Endpoint                  | Description         | CLI Equivalent                            |
| ------ | ------------------------- | ------------------- | ----------------------------------------- |
| GET    | `/advice`                 | All recommendations | `finance advise --json`                   |
| GET    | `/advice?focus=goals`     | Goal-focused        | `finance advise --focus goals --json`     |
| GET    | `/advice?focus=rebalance` | Allocation-focused  | `finance advise --focus rebalance --json` |

**Response:**

```json
{
  "success": true,
  "recommendations": [
    {
      "type": "surplus",
      "priority": "high",
      "action": "Redirect $200/mo additional to emergency fund",
      "rationale": "Deadline in 7 months...",
      "impact": "...",
      "numbers": {...}
    }
  ],
  "portfolio_summary": {...},
  "goal_details": [...],
  "data_freshness": {...}
}
```

### Statements

| Method | Endpoint                       | Description         | CLI Equivalent                 |
| ------ | ------------------------------ | ------------------- | ------------------------------ |
| GET    | `/statements/history`          | Snapshot history    | `finance history --json`       |
| POST   | `/statements/pull`             | Pull from Downloads | `finance pull --json`          |
| POST   | `/statements/pull?latest=true` | Pull latest only    | `finance pull --latest --json` |

---

## UI Specifications

### Page: Dashboard (`/`)

The primary view users land on for periodic check-ins.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] Finance Dashboard                    â±ï¸ Updated: 3 days ago â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    PORTFOLIO VALUE                             â”‚ â”‚
â”‚  â”‚                     $127,432                                   â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚       [=========== Allocation Donut Chart ===========]        â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚    â— Retirement  41.1%  (+1.1%)     â— Crypto  28.0%  (+3.0%) â”‚ â”‚
â”‚  â”‚    â— Cash        18.0%  (-2.0%)     â— Equities 12.9% (-2.1%) â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚    [Target ring shown as outer circle for comparison]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  GOAL: Emergency Fund       â”‚ â”‚  GOAL: Business Runway      â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 68%     â”‚ â”‚  No target set              â”‚   â”‚
â”‚  â”‚  $23,800 / $35,000          â”‚ â”‚  Tracking qualitatively     â”‚   â”‚
â”‚  â”‚  Due: Aug 2026 (7 months)   â”‚ â”‚                             â”‚   â”‚
â”‚  â”‚  âš ï¸ OFF TRACK               â”‚ â”‚  âœ“ On track                 â”‚   â”‚
â”‚  â”‚  Need: $1,600/mo            â”‚ â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TOP RECOMMENDATIONS                            [View All â†’]   â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  ğŸ”´ HIGH: Redirect $200/mo additional to emergency fund       â”‚ â”‚
â”‚  â”‚     Deadline in 7 months. Need $1,600/mo vs current $1,400.   â”‚ â”‚
â”‚  â”‚     [Expand â–¼]                                                â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  ğŸŸ¡ CONSIDER: Crypto allocation +3% above target              â”‚ â”‚
â”‚  â”‚     Direct new contributions to cash until balanced.          â”‚ â”‚
â”‚  â”‚     [Expand â–¼]                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  DATA FRESHNESS                                                â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ SoFi: Jan 10     ğŸŸ¡ Holdings: 3 days ago     ğŸŸ¢ Prices: Liveâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**

| Component              | Props                                 | Description                                |
| ---------------------- | ------------------------------------- | ------------------------------------------ |
| `<PortfolioSummary>`   | `totalValue`, `dataFreshness`         | Big number header with freshness indicator |
| `<AllocationChart>`    | `byCategory`, `recommendedAllocation` | Recharts donut with dual rings             |
| `<AllocationLegend>`   | `byCategory`, `drift`                 | Color-coded legend with drift indicators   |
| `<GoalCard>`           | `goal`                                | Progress bar, deadline, status badge       |
| `<RecommendationCard>` | `recommendation`, `expanded`          | Priority-colored, expandable               |
| `<DataFreshness>`      | `freshness`                           | Traffic light indicators                   |

### Page: Holdings (`/holdings`)

Manage manual holdings (crypto, bank accounts, other).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Holdings                                    Last updated: Jan 14   â”‚
â”‚                                              [ğŸ”„ Refresh Prices]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  âš ï¸ Holdings data is 8 days old. Consider updating balances.       â”‚
â”‚                                                                     â”‚
â”‚  CRYPTOCURRENCY                                        Total: $35,680â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Symbol â”‚ Quantity â”‚ Price     â”‚ Value      â”‚ Notes    â”‚        â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ BTC    â”‚ 0.45     â”‚ $43,200   â”‚ $19,440    â”‚ Coinbase â”‚ [Edit] â”‚â”‚
â”‚  â”‚ ETH    â”‚ 4.50     â”‚ $2,720    â”‚ $12,240    â”‚ Ledger   â”‚ [Edit] â”‚â”‚
â”‚  â”‚ SOL    â”‚ 25.00    â”‚ $160      â”‚ $4,000     â”‚          â”‚ [Edit] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  [+ Add Crypto]                                                     â”‚
â”‚                                                                     â”‚
â”‚  BANK ACCOUNTS                                         Total: $22,500â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Account                 â”‚ Balance    â”‚ Notes        â”‚          â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ High-Yield Savings      â”‚ $18,000    â”‚ SoFi 4.5%    â”‚ [Edit]   â”‚â”‚
â”‚  â”‚ Primary Checking        â”‚ $4,500     â”‚              â”‚ [Edit]   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  [+ Add Account]                                                    â”‚
â”‚                                                                     â”‚
â”‚  OTHER ACCOUNTS                                         Total: $2,500â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Account                 â”‚ Balance    â”‚ Notes        â”‚          â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ Fidelity HSA            â”‚ $2,500     â”‚              â”‚ [Edit]   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  [+ Add Account]                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Edit Dialog:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Edit Holding: BTC                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  Quantity                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0.45                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  Notes (optional)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Coinbase                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  Current Price: $43,200               â”‚
â”‚  New Value: $19,440                   â”‚
â”‚                                       â”‚
â”‚  [Cancel]                    [Save]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**

| Component             | Props                          | Description              |
| --------------------- | ------------------------------ | ------------------------ |
| `<CryptoTable>`       | `holdings`, `prices`, `onEdit` | Table with live prices   |
| `<BankTable>`         | `holdings`, `onEdit`           | Simple balance table     |
| `<HoldingEditDialog>` | `holding`, `open`, `onSave`    | Modal form for edits     |
| `<StalenessWarning>`  | `daysOld`, `threshold`         | Yellow banner when stale |
| `<AddHoldingDialog>`  | `category`, `onAdd`            | Modal for new holdings   |

### Page: Profile (`/profile`)

Edit financial profile (cash flow, goals, tax situation).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Financial Profile                           Last updated: Jan 11   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  MONTHLY CASH FLOW              â”‚ â”‚  CALCULATED                 â”‚â”‚
â”‚  â”‚                                 â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  Gross Income      $10,790     â”‚ â”‚  Net Surplus: $681/mo       â”‚â”‚
â”‚  â”‚  Shared Expenses   -$5,000     â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  Crypto DCA        -$2,166     â”‚ â”‚  This is what's available   â”‚â”‚
â”‚  â”‚  Roth IRA          -$583       â”‚ â”‚  after all allocations.     â”‚â”‚
â”‚  â”‚  HSA               -$360       â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  Discretionary     -$2,000     â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  Surplus            $681       â”‚ â”‚                             â”‚â”‚
â”‚  â”‚                                 â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  [Edit Cash Flow]               â”‚ â”‚                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚  GOALS                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Short-term                                                    â”‚ â”‚
â”‚  â”‚  Emergency fund for security. First baby due late August.     â”‚ â”‚
â”‚  â”‚  Target: $35,000    Deadline: Aug 2026                         â”‚ â”‚
â”‚  â”‚  [Edit]                                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Medium-term                                                   â”‚ â”‚
â”‚  â”‚  Build enough savings for 6-month runway for business venture â”‚ â”‚
â”‚  â”‚  Target: Not set    Deadline: Not set                          â”‚ â”‚
â”‚  â”‚  [Edit]                                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Long-term                                                     â”‚ â”‚
â”‚  â”‚  Upgrade to $2M home, $100k boat, 4 kids                       â”‚ â”‚
â”‚  â”‚  Target: Not set    Deadline: Not set                          â”‚ â”‚
â”‚  â”‚  [Edit]                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  TAX SITUATION                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Filing: Married Separate    Federal Bracket: 25%              â”‚ â”‚
â”‚  â”‚  State Tax: 0%               Roth Maxed: Yes                   â”‚ â”‚
â”‚  â”‚  401(k): No                  HSA Eligible: Yes                 â”‚ â”‚
â”‚  â”‚  [Edit]                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  HOUSEHOLD CONTEXT                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Wife's Income: $240,000/yr   Wife's Assets: ~$100,000        â”‚ â”‚
â”‚  â”‚  Mortgage: $5,600/mo @ 7.1%   Balance: $552,349               â”‚ â”‚
â”‚  â”‚  Home Value: $650,000                                          â”‚ â”‚
â”‚  â”‚  [Edit]                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**

| Component          | Props                    | Description                                      |
| ------------------ | ------------------------ | ------------------------------------------------ |
| `<CashFlowCard>`   | `cashFlow`, `onEdit`     | Income/expense breakdown with calculated surplus |
| `<GoalCard>`       | `goal`, `type`, `onEdit` | Description, target, deadline                    |
| `<GoalEditDialog>` | `goal`, `onSave`         | Form with description, target, deadline picker   |
| `<TaxCard>`        | `taxSituation`, `onEdit` | Tax status display                               |
| `<HouseholdCard>`  | `household`, `onEdit`    | Household context display                        |

### Page: Advisor (`/advisor`)

Full recommendations with filtering and what-if calculator.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Financial Advisor                                   January 14, 2026â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  PORTFOLIO: $127,432            MONTHLY SURPLUS: $681               â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Filter: [All] [Goals] [Rebalance] [Opportunities]              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”´ HIGH PRIORITY (2)                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [S] Redirect $200/mo additional to emergency fund             â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚  Emergency fund deadline in 7 months. Current pace: $1,400/mo. â”‚ â”‚
â”‚  â”‚  Required: $1,600/mo.                                          â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â†’ Closing the $200/mo gap would put goal back on track.       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [R] Redirect new contributions from Crypto to Cash           â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚  Crypto is +8.0% above target (28.0% vs 20.0%).                â”‚ â”‚
â”‚  â”‚  Cash is 7.0% below target (18.0% vs 25.0%).                   â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â†’ Move toward balanced allocation: Crypto 20%, Cash 25%.      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸŸ¡ CONSIDER (1)                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [O] BTC down 8.5% this week                                   â”‚ â”‚
â”‚  â”‚  Potential DCA opportunity if aligned with strategy.           â”‚ â”‚
â”‚  â”‚  Note: Emergency fund goal takes priority over new investments.â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸŸ¢ INFO (1)                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [R] Retirement allocation within tolerance                    â”‚ â”‚
â”‚  â”‚  Maximum drift is 1.1%, below the 7% threshold.                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WHAT-IF CALCULATOR                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  If I add $[    500] /mo to [Cash          â–¼]                 â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  Emergency fund goal:                                          â”‚ â”‚
â”‚  â”‚    â€¢ Current: $1,400/mo â†’ New: $1,900/mo                      â”‚ â”‚
â”‚  â”‚    â€¢ Status: âš ï¸ OFF TRACK â†’ âœ“ ON TRACK                         â”‚ â”‚
â”‚  â”‚    â€¢ Timeline: 16 months â†’ 6 months                            â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  Allocation impact:                                            â”‚ â”‚
â”‚  â”‚    â€¢ Cash: 18.0% â†’ 19.2% (closer to 25% target)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**

| Component              | Props                               | Description                 |
| ---------------------- | ----------------------------------- | --------------------------- |
| `<AdvisorHeader>`      | `portfolioValue`, `surplus`, `date` | Summary header              |
| `<PriorityFilter>`     | `selected`, `onChange`              | Tab-style filter buttons    |
| `<RecommendationList>` | `recommendations`, `filter`         | Grouped by priority         |
| `<RecommendationCard>` | `recommendation`                    | Full card with type badge   |
| `<WhatIfCalculator>`   | `portfolio`, `goals`, `allocation`  | Interactive scenario tester |

### Page: Statements (`/statements`)

View history and import new statements.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Statements                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  IMPORT                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚     [Pull from Downloads]       [Pull Latest Only]             â”‚ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚     Scans ~/Downloads for SoFi/Apex statement PDFs            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  SNAPSHOT HISTORY                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Date       â”‚ Account             â”‚ Total Value    â”‚ Î” Previous â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ 2026-01-10 â”‚ Roth IRA            â”‚ $52,340.00     â”‚ +$1,240    â”‚â”‚
â”‚  â”‚ 2026-01-10 â”‚ Brokerage           â”‚ $16,500.00     â”‚ +$320      â”‚â”‚
â”‚  â”‚ 2025-12-10 â”‚ Roth IRA            â”‚ $51,100.00     â”‚ +$890      â”‚â”‚
â”‚  â”‚ 2025-12-10 â”‚ Brokerage           â”‚ $16,180.00     â”‚ +$280      â”‚â”‚
â”‚  â”‚ 2025-11-10 â”‚ Roth IRA            â”‚ $50,210.00     â”‚ -          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**

| Component        | Props                               | Description                |
| ---------------- | ----------------------------------- | -------------------------- |
| `<ImportPanel>`  | `onPull`, `onPullLatest`, `loading` | Action buttons with status |
| `<HistoryTable>` | `snapshots`                         | Sortable history table     |

---

## Shared Components

### Navigation

Sidebar navigation for all pages.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° Finance      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–  Dashboard     â”‚
â”‚  â–¡ Holdings      â”‚
â”‚  â–¡ Profile       â”‚
â”‚  â–¡ Advisor       â”‚
â”‚  â–¡ Statements    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Component:** `<Sidebar>` with `<NavLink>` items using Lucide icons:

- `LayoutDashboard` - Dashboard
- `Wallet` - Holdings
- `User` - Profile
- `Lightbulb` - Advisor
- `FileText` - Statements

### Data Freshness Indicator

Used on dashboard and individual pages.

```tsx
<DataFreshness
  sofiDate='2026-01-10'
  holdingsDate='2026-01-14'
  cryptoPrices='live'
  threshold={{ sofi: 30, holdings: 7 }}
/>
```

Displays:

- ğŸŸ¢ Green: Within threshold
- ğŸŸ¡ Yellow: Near threshold (50-100%)
- ğŸ”´ Red: Exceeds threshold

### Loading States

Use shadcn `<Skeleton>` components for loading states matching the shape of content.

### Error States

Use shadcn `<Alert>` with `variant="destructive"` for API errors.

---

## State Management

### TanStack Query Setup

```typescript
// lib/hooks/use-portfolio.ts
export function usePortfolio(options?: { noPrices?: boolean }) {
  return useQuery({
    queryKey: ['portfolio', options],
    queryFn: () => api.getPortfolio(options),
    staleTime: 5 * 60 * 1000, // 5 minutes
  });
}

// lib/hooks/use-holdings.ts
export function useHoldings() {
  return useQuery({
    queryKey: ['holdings'],
    queryFn: api.getHoldings,
    staleTime: 5 * 60 * 1000,
  });
}

export function useUpdateHolding() {
  const queryClient = useQueryClient();
  return useMutation({
    mutationFn: api.updateHolding,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['holdings'] });
      queryClient.invalidateQueries({ queryKey: ['portfolio'] });
    },
  });
}
```

### Type Definitions

```typescript
// lib/types.ts

export interface Portfolio {
  success: boolean;
  as_of: string;
  total_value: number;
  by_category: Record<string, CategoryData>;
  by_asset: Asset[];
  data_freshness: DataFreshness;
  warnings: string[];
}

export interface CategoryData {
  value: number;
  pct: number;
  assets: string[];
}

export interface Asset {
  name: string;
  category: string;
  value: number;
  source: string;
  as_of: string;
  details?: Record<string, unknown>;
}

export interface DataFreshness {
  sofi_snapshots: string | null;
  holdings: string | null;
  crypto_prices: 'live' | 'unavailable' | 'skipped';
}

export interface Holding {
  symbol?: string;
  name?: string;
  quantity?: number;
  balance?: number;
  notes?: string;
}

export interface Holdings {
  crypto: Record<string, Holding>;
  bank_accounts: Record<string, Holding>;
  other: Record<string, Holding>;
  last_updated: string;
}

export interface Profile {
  monthly_cash_flow: CashFlow;
  household_context: HouseholdContext;
  tax_situation: TaxSituation;
  goals: Goals;
  last_updated: string;
}

export interface CashFlow {
  gross_income: number;
  shared_expenses: number;
  crypto_contributions: number;
  roth_contributions: number;
  hsa_contributions: number;
  discretionary: number;
}

export interface Goal {
  description: string;
  target: number | null;
  deadline: string | null;
}

export interface Goals {
  short_term: Goal;
  medium_term: Goal;
  long_term: Goal;
}

export interface Recommendation {
  type: 'rebalance' | 'surplus' | 'opportunity' | 'warning';
  priority: 'high' | 'medium' | 'low';
  action: string;
  rationale: string;
  impact: string;
  numbers: Record<string, unknown>;
}

export interface Advice {
  success: boolean;
  recommendations: Recommendation[];
  portfolio_summary: PortfolioSummary;
  goal_details: GoalDetail[];
  data_freshness: DataFreshness;
}
```

---

## Development Setup

### Single Command Start

```json
// finance/web/package.json
{
  "scripts": {
    "dev": "concurrently \"npm run dev:api\" \"npm run dev:web\"",
    "dev:api": "cd ../api && uvicorn main:app --reload --port 8000",
    "dev:web": "next dev --port 3000",
    "build": "next build",
    "start": "next start"
  }
}
```

### Environment Variables

```bash
# finance/web/.env.local
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

### CORS Configuration

```python
# finance/api/main.py
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI(title="Finance API", version="1.0.0")

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

---

## Implementation Phases

| Phase | Scope             | Deliverables                                     | Est. Effort |
| ----- | ----------------- | ------------------------------------------------ | ----------- |
| **1** | Backend API       | FastAPI with all endpoints, wrapping CLI modules | 1 session   |
| **2** | Frontend scaffold | Next.js setup, shadcn, routing, layout           | 1 session   |
| **3** | Dashboard         | Portfolio view, allocation chart, goal cards     | 1 session   |
| **4** | Holdings          | CRUD for crypto/bank/other, edit dialogs         | 1 session   |
| **5** | Profile           | Cash flow form, goal editors, tax form           | 1 session   |
| **6** | Advisor           | Recommendation list, filters, what-if            | 1 session   |
| **7** | Statements        | History table, pull actions                      | 0.5 session |
| **8** | Polish            | Loading states, error handling, mobile           | 0.5 session |

---

## Future Enhancements (Out of Scope)

- Real-time price updates (WebSocket)
- Historical net worth chart
- Mobile-responsive design (beyond basic)
- Tauri desktop packaging
- Push notifications for stale data
- Dark mode

---

## File Changes Summary

### New Files

| File                           | Purpose                  |
| ------------------------------ | ------------------------ |
| `finance/api/main.py`          | FastAPI app entry point  |
| `finance/api/routes/*.py`      | Route handlers           |
| `finance/api/requirements.txt` | API dependencies         |
| `finance/web/package.json`     | Frontend dependencies    |
| `finance/web/app/*.tsx`        | Page components          |
| `finance/web/components/*.tsx` | Shared components        |
| `finance/web/lib/*.ts`         | API client, types, hooks |

### Modified Files

None - existing CLI modules remain unchanged. API layer wraps them directly.
